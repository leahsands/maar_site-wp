!function(e){"use strict";function t(){this.$dom=e(document),this.$html=this.$dom.find("html"),this.isOldie=!!this.$html.hasClass("oldie"),this.click="click",this.onReady=this.onOldie=this.onTouch=!1,this.autoInit="false"===e("script[gumby-init]").attr("gumby-init")?!1:!0,this.debugMode=Boolean(e("script[gumby-debug]").length),this.touchDevice=!!(Modernizr.touch||window.navigator.userAgent.indexOf("Windows Phone")>0),this.gumbyTouch=!1,this.touchEvents="js/libs",this.breakpoint=Number(e("script[gumby-breakpoint]").attr("gumby-breakpoint"))||768,this.touchEventsLoaded=!1,this.uiModulesReady=!1,this.uiModules={},this.inits={};var t=e("script[gumby-touch]").attr("gumby-touch"),i=e("script[gumby-path]").attr("gumby-path");"false"===t?this.touchEvents=!1:t?this.touchEvents=t:i&&(this.touchEvents=i),this.touchDevice&&(this.click+=" tap"),this.touchDevice&&e(window).width()<this.breakpoint?(this.$html.addClass("gumby-touch"),this.gumbyTouch=!0):this.$html.addClass("gumby-no-touch"),this.debugMode&&this.debug("Gumby is in debug mode")}t.prototype.init=function(e){var t=this,i=e?e:{};return this.$dom.ready(function(){i.debug&&(t.debugMode=!0),t.debug("Initializing Gumby");var e=i.uiModules?i.uiModules:!1;t.initUIModules(e),t.onReady&&t.onReady(),t.isOldie&&t.onOldie&&t.onOldie(),Modernizr.touch&&t.onTouch&&t.onTouch()}),this},t.prototype.helpers=function(){this.onReady&&this.onReady(),this.isOldie&&this.onOldie&&this.onOldie(),Modernizr.touch&&this.onTouch&&this.onTouch()},t.prototype.ready=function(e){return e&&"function"==typeof e&&(this.onReady=e),this},t.prototype.oldie=function(e){return e&&"function"==typeof e&&(this.onOldie=e),this},t.prototype.touch=function(e){return e&&"function"==typeof e&&(this.onTouch=e),this},t.prototype.console=function(e,t){this.debugMode&&window.console&&console[console[e]?e:"log"](t.length>1?Array.prototype.slice.call(t):t[0])},t.prototype.log=function(){this.console("log",arguments)},t.prototype.debug=function(){this.console("debug",arguments)},t.prototype.warn=function(){this.console("warn",arguments)},t.prototype.error=function(){this.console("error",arguments)},t.prototype.dump=function(){return{$dom:this.$dom,isOldie:this.isOldie,touchEvents:this.touchEvents,debugMode:this.debugMode,autoInit:this.autoInit,uiModules:this.uiModules,click:this.click}},t.prototype.selectAttr=function(){for(var e=0;e<arguments.length;e++){var t=arguments[e],i="data-"+arguments[e],n="gumby-"+arguments[e];if(this.is("["+i+"]"))return this.attr(i)?this.attr(i):!0;if(this.is("["+n+"]"))return this.attr(n)?this.attr(n):!0;if(this.is("["+t+"]"))return this.attr(t)?this.attr(t):!0}return!1},t.prototype.addInitalisation=function(e,t){this.inits[e]=t},t.prototype.initialize=function(e,t){if("object"==typeof e){var i=0;for(i;i<e.length;i++)this.inits[e[i]]&&"function"==typeof this.inits[e[i]]?this.inits[e[i]](t):this.error("Error initializing module: "+e[i])}else this.inits[e]&&"function"==typeof this.inits[e]?this.inits[e](t):this.error("Error initializing module: "+e);return this},t.prototype.UIModule=function(e){var t=e.module;this.uiModules[t]=e},t.prototype.initUIModules=function(e){var t,i,n=this.uiModules;e&&(n=e);for(t in n)i=e?n[t]:t,this.uiModules[i].init()},window.Gumby=new t}(jQuery),!function(e){"use strict";function t(e){Gumby.debug("Initializing Checkbox",e),this.$el=e,this.$input=this.$el.find("input[type=checkbox]");var t=this;this.$el.on(Gumby.click,function(e){e.preventDefault(),t.$input.is("[disabled]")||(t.$el.hasClass("checked")?t.update(!1):t.update(!0))}).on("gumby.check",function(){Gumby.debug("Check event triggered",t.$el),t.update(!0)}).on("gumby.uncheck",function(){Gumby.debug("Uncheck event triggered",t.$el),t.update(!1)}),(this.$input.prop("checked")||this.$el.hasClass("checked"))&&t.update(!0)}t.prototype.update=function(e){var t=this.$el.find("span");e?(Gumby.debug("Checking Checkbox",this.$el),t.append('<i class="icon-check" />'),this.$input.prop("checked",!0),Gumby.debug("Triggering onCheck event",this.$el),Gumby.debug("Triggering onChange event",this.$el),this.$el.addClass("checked").trigger("gumby.onCheck").trigger("gumby.onChange")):(Gumby.debug("Unchecking Checkbox",this.$el),this.$input.prop("checked",!1),t.find("i").remove(),Gumby.debug("Triggering onUncheck event",this.$el),Gumby.debug("Triggering onChange event",this.$el),this.$el.removeClass("checked").trigger("gumby.onUncheck").trigger("gumby.onChange"))},Gumby.addInitalisation("checkbox",function(){e(".checkbox").each(function(){var i=e(this);return i.data("isCheckbox")?!0:(i.data("isCheckbox",!0),new t(i),void 0)})}),Gumby.UIModule({module:"checkbox",events:["onCheck","onUncheck","onChange","check","uncheck"],init:function(){Gumby.initialize("checkbox")}})}(jQuery),!function(e){"use strict";function t(t){Gumby.debug("Initializing Fixed Position",t),this.$el=t,this.$window=e(window),this.fixedPoint="",this.pinPoint=!1,this.fixedPointjQ=!1,this.pinPointjQ=!1,this.offset=0,this.pinOffset=0,this.top=0,this.constrainEl=!0,this.state=!1,this.measurements={left:0,width:0},this.setup();var i=this;this.$window.on("scroll load",function(){i.monitorScroll()}),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing Fixed Position",t),i.setup(),i.monitorScroll()})}t.prototype.setup=function(){var e=this;this.fixedPoint=this.parseAttrValue(Gumby.selectAttr.apply(this.$el,["fixed"])),this.pinPoint=Gumby.selectAttr.apply(this.$el,["pin"])||!1,this.offset=Number(Gumby.selectAttr.apply(this.$el,["offset"]))||0,this.pinOffset=Number(Gumby.selectAttr.apply(this.$el,["pinoffset"]))||0,this.top=Number(Gumby.selectAttr.apply(this.$el,["top"]))||0,this.constrainEl=Gumby.selectAttr.apply(this.$el,["constrain"])||!0,"false"===this.constrainEl&&(this.constrainEl=!1),this.$parent=this.$el.parents(".columns, .column, .row"),this.$parent=this.$parent.length?this.$parent.first():!1,this.parentRow=this.$parent?!!this.$parent.hasClass("row"):!1,this.pinPoint&&(this.pinPoint=this.parseAttrValue(this.pinPoint)),this.fixedPointjQ=this.fixedPoint instanceof jQuery,this.pinPointjQ=this.pinPoint instanceof jQuery,this.$parent&&this.constrainEl&&(this.measure(),this.$window.resize(function(){e.state&&(e.measure(),e.constrain())}))},t.prototype.monitorScroll=function(){var e=this.$window.scrollTop(),t=this.fixedPointjQ?this.fixedPoint.offset().top:this.fixedPoint,i=!1;this.pinPoint&&(i=this.pinPointjQ?this.pinPoint.offset().top:this.pinPoint),this.offset&&(t-=this.offset),this.pinOffset&&(i-=this.pinOffset),e>=t&&"fixed"!==this.state?(!i||i>e)&&this.fix():t>e&&"fixed"===this.state?this.unfix():i&&e>=i&&"pinned"!==this.state&&this.pin()},t.prototype.fix=function(){Gumby.debug("Element has been fixed",this.$el),Gumby.debug("Triggering onFixed event",this.$el),this.state="fixed",this.$el.css({top:this.top}).addClass("fixed").removeClass("unfixed pinned").trigger("gumby.onFixed"),this.$parent&&this.constrain()},t.prototype.unfix=function(){Gumby.debug("Element has been unfixed",this.$el),Gumby.debug("Triggering onUnfixed event",this.$el),this.state="unfixed",this.$el.addClass("unfixed").removeClass("fixed pinned").trigger("gumby.onUnfixed")},t.prototype.pin=function(){Gumby.debug("Element has been pinned",this.$el),Gumby.debug("Triggering onPinned event",this.$el),this.state="pinned",this.$el.css({top:this.$el.offset().top}).addClass("pinned fixed").removeClass("unfixed").trigger("gumby.onPinned")},t.prototype.constrain=function(){Gumby.debug("Constraining element",this.$el),this.$el.css({left:this.measurements.left,width:this.measurements.width})},t.prototype.measure=function(){var e;this.measurements.left=this.$parent.offset().left,this.measurements.width=this.$parent.width(),this.parentRow&&(e=Number(this.$parent.css("paddingLeft").replace(/px/,"")),e&&(this.measurements.left+=e))},t.prototype.parseAttrValue=function(t){if(e.isNumeric(t))return Number(t);if("top"===t)return this.$el.offset().top;var i=e(t);return i.length?i:(Gumby.error("Cannot find Fixed target: "+t),!1)},Gumby.addInitalisation("fixed",function(i){e("[data-fixed],[gumby-fixed],[fixed]").each(function(){var n=e(this);return n.data("isFixed")&&!i?!0:n.data("isFixed")&&i?(n.trigger("gumby.initialize"),!0):(n.data("isFixed",!0),new t(n),void 0)})}),Gumby.UIModule({module:"fixed",events:["initialize","onFixed","onUnfixed"],init:function(){Gumby.initialize("fixed")}})}(jQuery),!function(e){"use strict";function t(e){Gumby.debug("Initializing Navbar",e),this.$el=e,this.$dropDowns=this.$el.find("li:has(.dropdown)");var t=this,i=this.$el.attr("gumby-persist");"undefined"==typeof i&&"false"!==i&&this.$el.find("li:not(:has(.dropdown)) a").on(Gumby.click,function(){t.$el.find("ul").removeClass("active")}),this.$dropDowns.on(Gumby.click,this.toggleDropdown).on("swiperight",this.openLink),"#"!==this.$dropDowns.children("a").attr("href")&&this.$dropDowns.children("a").append('<i class="icon-popup"></i>').children("i").on(Gumby.click,this.openLink),this.$el.find("li:not(:has(.dropdown)) a[href]").on(Gumby.click,this.openLink)}Gumby.gumbyTouch&&(t.prototype.toggleDropdown=function(t){if(t.preventDefault(),e(this).parents(".dropdown")&&t.stopImmediatePropagation(),!e(t.target).is("i")){var i=e(this);i.hasClass("active")?i.removeClass("active"):i.addClass("active")}},t.prototype.openLink=function(t){t.preventDefault();var i,n=e(this),a=n;n.is("i")?a=n.parent("a"):n.is("li")&&(a=n.children("a")),i=a.attr("href"),"blank"==a.attr("target")?window.open(i):window.location=i},Gumby.addInitalisation("navbar",function(){e(".navbar").each(function(){var i=e(this);return i.data("isNavbar")?!0:(i.data("isNavbar",!0),new t(i),void 0)})}),Gumby.UIModule({module:"navbar",events:[],init:function(){Gumby.initialize("navbar")}}))}(jQuery),!function(e){"use strict";function t(e){Gumby.debug("Initializing Radio Button",e),this.$el=e,this.$input=this.$el.find("input[type=radio]");var t=this;this.$el.on(Gumby.click,function(e){e.preventDefault(),t.$input.is("[disabled]")||t.update()}).on("gumby.check",function(){Gumby.debug("Check event triggered",t.$el),t.update()}),(this.$input.prop("checked")||this.$el.hasClass("checked"))&&t.update(!0)}t.prototype.update=function(){if(!(this.$el.hasClass("checked")&&this.$input.prop("checked")&&this.$el.find("i.icon-dot").length)){Gumby.debug("Updating Radio Button group",this.$el);var t=this.$el.find("span"),i='input[name="'+this.$input.attr("name")+'"]';e(".radio").has(i).removeClass("checked").find("input").prop("checked",!1).end().find("i").remove(),this.$input.prop("checked",!0),t.append('<i class="icon-dot" />'),Gumby.debug("Triggering onCheck event",this.$el),this.$el.addClass("checked").trigger("gumby.onCheck")}},Gumby.addInitalisation("radiobtn",function(){e(".radio").each(function(){var i=e(this);return i.data("isRadioBtn")?!0:(i.data("isRadioBtn",!0),new t(i),void 0)})}),Gumby.UIModule({module:"radiobtn",events:["onCheck","check"],init:function(){Gumby.initialize("radiobtn")}})}(jQuery),!function(e){"use strict";function t(t){Gumby.debug("Initializing Retina",t),this.$el=t,this.imageSrc=this.$el.attr("src"),this.retinaSrc=this.fetchRetinaImage(),this.$retinaImg=e(new Image);var i=this;return this.retinaSrc?(this.$retinaImg.attr("src",this.retinaSrc).load(function(){i.retinaImageLoaded()}).error(function(){Gumby.error("Couln't load retina image: "+i.retinaSrc)}),void 0):!1}t.prototype.fetchRetinaImage=function(){var e=this.imageSrc,t=this.imageSrc.search(/(\.|\/)(gif|jpe?g|png)$/i);return 0>t?!1:e.substr(0,t)+"@2x"+e.substr(t,e.length)},t.prototype.retinaImageLoaded=function(){Gumby.debug("Swapping image for retina version",this.$el),Gumby.debug("Triggering onRetina event",this.$el),this.$el.attr("src",this.$retinaImg.attr("src")).trigger("gumby.onRetina")},Gumby.addInitalisation("retina",function(){!window.devicePixelRatio||window.devicePixelRatio<=1||e("img[data-retina],img[gumby-retina],img[retina]").each(function(){var i=e(this);return i.data("isRetina")?!0:(i.data("isRetina",!0),new t(i),void 0)})}),Gumby.UIModule({module:"retina",events:["onRetina"],init:function(){Gumby.initialize("retina")}})}(jQuery),!function(e){"use strict";function t(e){Gumby.debug("Initializing Skiplink",e),this.$el=e,this.targetPos=0,this.duration=0,this.offset=!1,this.easing="",this.update=!1,this.setup();var t=this;this.$el.on(Gumby.click+" gumby.skip",function(e){e.preventDefault(),"skip"===e.namespace&&Gumby.debug("Skip event triggered",t.$el),t.update?t.calculateTarget(t.skipTo):t.skipTo()}).on("gumby.initialize",function(){Gumby.debug("Re-initializing Skiplink",t.$el),t.setup()})}t.prototype.setup=function(){this.duration=Number(Gumby.selectAttr.apply(this.$el,["duration"]))||200,this.offset=Gumby.selectAttr.apply(this.$el,["offset"])||!1,this.easing=Gumby.selectAttr.apply(this.$el,["easing"])||"swing",this.update=Gumby.selectAttr.apply(this.$el,["update"])?!0:!1,this.calculateTarget()},t.prototype.calculateTarget=function(t){var i,n=Gumby.selectAttr.apply(this.$el,["goto"]);if("top"==n)this.targetPos=0;else if(e.isNumeric(n))this.targetPos=Number(n);else{if(i=e(n),!i.length)return Gumby.error("Cannot find skiplink target: "+n),!1;this.targetPos=i.offset().top}t&&t.apply(this)},t.prototype.skipTo=function(){Gumby.debug("Skipping to target",this.$el);var t=this;e("html,body").animate({scrollTop:this.calculateOffset()},this.duration,this.easing).promise().done(function(){Gumby.debug("Triggering onComplete event",t.$el),t.$el.trigger("gumby.onComplete")})},t.prototype.calculateOffset=function(){if(!this.offset)return this.targetPos;var e=this.offset.substr(0,1),t=Number(this.offset.substr(1,this.offset.length));return"-"===e?this.targetPos-t:"+"===e?this.targetPos+t:void 0},Gumby.addInitalisation("skiplink",function(i){e(".skiplink > a, .skip").each(function(){var n=e(this);return n.data("isSkipLink")&&!i?!0:n.data("isSkipLink")&&i?(n.trigger("gumby.initialize"),!0):(n.data("isSkipLink",!0),new t(n),void 0)})}),Gumby.UIModule({module:"skiplink",events:["initialize","onComplete","skip"],init:function(){Gumby.initialize("skiplink")}})}(jQuery),!function(e){"use strict";function t(t){Gumby.debug("Initializing Tabs",t),this.$el=t,this.$nav=this.$el.find("> ul.tab-nav > li"),this.$content=this.$el.children(".tab-content");var i=this;this.$nav.children("a").on(Gumby.click,function(t){t.preventDefault(),i.click(e(this))}),this.$el.on("gumby.set",function(e,t){Gumby.debug("Set event triggered",i.$el),i.set(e,t)})}t.prototype.click=function(e){var t=e.parent().index();this.$nav.eq(t).add(this.$content.eq(t)).hasClass("active")||(Gumby.debug("Setting active tab to "+t,this.$el),this.$nav.add(this.$content).removeClass("active"),this.$nav.eq(t).add(this.$content.eq(t)).addClass("active"),Gumby.debug("Triggering onChange event",this.$el),this.$el.trigger("gumby.onChange",t))},t.prototype.set=function(e,t){this.$nav.eq(t).find("a").trigger(Gumby.click)},Gumby.addInitalisation("tabs",function(){e(".tabs").each(function(){var i=e(this);return i.data("isTabs")?!0:(i.data("isTabs",!0),new t(i),void 0)})}),Gumby.UIModule({module:"tabs",events:["onChange","set"],init:function(){Gumby.initialize("tabs")}})}(jQuery),!function(e){"use strict";function t(t){this.$el=e(t),this.targets=[],this.on="",this.className="",this.self=!1,this.$el.length&&(Gumby.debug("Initializing Toggle",t),this.init())}function i(t){this.$el=e(t),this.targets=[],this.on="",this.className="",this.self=!1,this.$el.length&&(Gumby.debug("Initializing Switch",t),this.init())}t.prototype.init=function(){var e=this;this.setup(),this.$el.on(this.on,function(t){t.preventDefault(),e.trigger(e.triggered)}).on("gumby.trigger",function(){Gumby.debug("Trigger event triggered",e.$el),e.trigger(e.triggered)}).on("gumby.initialize",function(){Gumby.debug("Re-initializing "+e.constructor,$el),e.setup()})},t.prototype.setup=function(){this.targets=this.parseTargets(),this.on=Gumby.selectAttr.apply(this.$el,["on"])||Gumby.click,this.className=Gumby.selectAttr.apply(this.$el,["classname"])||"active",this.self="false"===Gumby.selectAttr.apply(this.$el,["self"])},t.prototype.parseTargets=function(){var t=Gumby.selectAttr.apply(this.$el,["trigger"]),i=0,n=[];return t?(i=t.indexOf("|"),-1===i?this.checkTargets([t])?[e(t)]:!1:(n=t.split("|"),this.checkTargets(n)?n.length>1?[e(n[0]),e(n[1])]:[e(n[0])]:!1)):!1},t.prototype.checkTargets=function(t){var i=0;for(i;i<t.length;i++)if(t[i]&&!e(t[i]).length)return Gumby.error("Cannot find "+this.constructor.name+" target: "+t[i]),!1;return!0},t.prototype.triggered=function(){Gumby.debug("Triggering onTrigger event",this.$el),this.$el.trigger("gumby.onTrigger",[this.$el.hasClass(this.className)])},i.prototype=new t,i.prototype.constructor=i,t.prototype.trigger=function(e){Gumby.debug("Triggering Toggle",this.$el);var t;this.targets?1==this.targets.length?this.$el.add(this.targets[0]).toggleClass(this.className):this.targets.length>1&&(this.targets[0].hasClass(this.className)?(t=this.targets[0],this.self||(t=t.add(this.$el)),t.removeClass(this.className),this.targets[1].addClass(this.className)):(t=this.targets[0],this.self||(t=t.add(this.$el)),t.addClass(this.className),this.targets[1].removeClass(this.className))):this.$el.toggleClass(this.className),e&&"function"==typeof e&&e.apply(this)},i.prototype.trigger=function(e){Gumby.debug("Triggering Switch",this.$el);var t;this.targets?1==this.targets.length?(t=this.targets[0],this.self||(t=t.add(this.$el)),t.addClass(this.className)):this.targets.length>1&&(t=this.targets[0],this.self||(t=t.add(this.$el)),t.addClass(this.className),this.targets[1].removeClass(this.className)):this.$el.addClass(this.className),e&&"function"==typeof e&&e.apply(this)},Gumby.addInitalisation("toggles",function(i){e(".toggle").each(function(){var n=e(this);return n.data("isToggle")&&!i?!0:(n.data("isToggle")&&i&&n.trigger("gumby.initialize"),n.data("isToggle",!0),new t(n),void 0)})}),Gumby.addInitalisation("switches",function(t){e(".switch").each(function(){var n=e(this);return n.data("isSwitch")&&!t?!0:n.data("isSwitch")&&t?(n.trigger("gumby.initialize"),!0):(n.data("isSwitch",!0),new i(n),void 0)})}),Gumby.UIModule({module:"toggleswitch",events:["initialize","trigger","onTrigger"],init:function(){Gumby.initialize("switches"),Gumby.initialize("toggles")}})}(jQuery),!function(e){"use strict";function t(e,t){Gumby&&Gumby.debug("Initializing Validation",e),this.$this=e,this.$field=this.$this.parents(".field"),this.req=t||function(){return!!this.$this.val().length};var i=this;this.$this.is("[type=checkbox], [type=radio]")?(this.$field=this.$this.parent("label"),this.$field.on("gumby.onChange",function(){i.validate()})):this.$this.is("select")?(this.$field=this.$this.parents(".picker"),this.$field.on("change",function(){i.validate()})):this.$this.on("blur",function(e){9!==e.which&&i.validate()})}t.prototype.validate=function(){var e=this.req(this.$this);return e?this.$field.removeClass("danger").addClass("success"):this.$field.removeClass("success").addClass("danger"),e},e.fn.validation=function(i){var n=e.extend({submit:!1,fail:!1,required:[]},i),a=[];return this.each(function(){if(!n.required.length)return!1;var i,s=e(this),o=n.required.length;for(i=0;o>i;i++)a.push(new t(s.find('[name="'+n.required[i].name+'"]'),n.required[i].validate||!1));s.on("submit",function(e){var t=!1;if(!s.data("passed")){e.preventDefault();var i,o=a.length;for(i=0;o>i;i++)a[i].validate()||(t=!0);if(t){if(n.fail&&"function"==typeof n.fail)return n.fail(),void 0}else{if(n.submit&&"function"==typeof n.submit)return n.submit(s.serializeArray()),void 0;s.data("passed",!0).submit()}}})})}}(jQuery),!function(){"use strict";function e(e){Gumby.debug("Initializing Responsive Images module",e),this.$el=e,this.type="",this.supports="",this.media="",this.def="",this.current="",this.setup();var t=this;$(window).on("load gumby.trigger "+(!this.media||"resize"),function(){t.fire()}),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing Responsive Images module",t.$el),t.setup(),t.fire()}),t.fire()}e.prototype.setup=function(){this.type=this.$el.is("img")?"img":"bg",this.supports=Gumby.selectAttr.apply(this.$el,["supports"])||!1,this.media=Gumby.selectAttr.apply(this.$el,["media"])||!1,this.def=Gumby.selectAttr.apply(this.$el,["default"])||!1,this.supports&&(this.supports=this.parseAttr(this.supports)),this.media&&(this.media=this.parseAttr(this.media)),this.checks={supports:function(e){return Modernizr[e]},media:function(e){return window.matchMedia(e).matches}}},e.prototype.fire=function(){var e=!1;return this.supports&&Modernizr&&(e=this.handleTests("supports",this.supports)),this.media&&window.matchMedia&&!e&&(e=this.handleTests("media",this.media)),!e&&this.def&&(e=this.def),e?(this.current!==e&&(this.current=e,this.insertImage(this.type,e)),void 0):!1},e.prototype.handleTests=function(e,t){var i=this,n=!1;return $(t).each(function(t,a){return i.check(e,a.test)?(n=a.img,!1):void 0}),n},e.prototype.check=function(e,t){return this.checks[e](t)},e.prototype.insertImage=function(e,t){var i=this,n=$(new Image);n.load(function(){"img"===e?i.$el.attr("src",t):i.$el.css("background-image","url("+t+")"),Gumby.debug("Triggering onChange event",t,i.$el),i.$el.trigger("gumby.onChange",[t])}).attr("src",t)},e.prototype.parseAttr=function(e){var t=this,i=e.split(","),n=[],a=[];return $(i).each(function(e,i){return a=i.split("|"),2!==a.length?!0:(n.push({test:t.shorthand(a[0]),img:a[1]}),void 0)}),n},e.prototype.shorthand=function(e){return(e.indexOf(">")>-1||e.indexOf("<")>-1)&&(e=e.replace(">","min-width: ").replace("<","max-width: ")),"("!==e.charAt(0)&&")"!==e.charAt(e.length-1)&&(e="("+e+")"),e},Gumby.addInitalisation("images",function(t){$("[gumby-supports],[data-supports],[supports],[gumby-media],[data-media],[media]").each(function(){var i=$(this);return i.data("isImage")&&!t?!0:i.data("isImage")&&t?(i.trigger("gumby.initialize"),!0):(i.data("isImage",!0),new e(i),void 0)})}),Gumby.UIModule({module:"images",events:["onChange","trigger"],init:function(){Gumby.initialize("images")}})}(),!function(){"use strict";function e(e){Gumby.debug("Initializing FitText",e),this.$el=e,this.rate=0,this.fontSizes={},this.debugDelay=0,this.setup();var t=this;this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing FitText",t.$el),t.setup(),t.resize()}),$(window).on("load resize orientationchange",function(){t.resize()}),this.resize()}e.prototype.setup=function(){this.rate=Number(Gumby.selectAttr.apply(this.$el,["rate"]))||1,this.fontSizes=this.parseSizes(Gumby.selectAttr.apply(this.$el,["sizes"]))},e.prototype.resize=function(){var e=this.calculateSize(),t=this;this.$el.css("font-size",e),clearTimeout(this.debugDelay),this.debugDelay=setTimeout(function(){Gumby.debug("Updated font size to "+e+"px",t.$el)},200)},e.prototype.calculateSize=function(){return Math.max(Math.min(this.$el.width()/(10*this.rate),parseFloat(this.fontSizes.max)),parseFloat(this.fontSizes.min))},e.prototype.parseSizes=function(e){var t={min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY};return e?(e.indexOf("|")>-1&&(e=e.split("|"),t.min=Number(e[0])||t.min,t.max=Number(e[1])||t.max),t.min=Number(e)||t.min,t):t},Gumby.addInitalisation("fittext",function(t){$(".fittext").each(function(){var i=$(this);return i.data("isFittext")&&!t?!0:i.data("isFittext")&&t?(i.trigger("gumby.initialize"),!0):(i.data("isFittext",!0),new e(i),void 0)})}),Gumby.UIModule({module:"fittext",events:["initialize"],init:function(){Gumby.initialize("fittext")}})}(),!function(e){"use strict";Gumby.touchDevice&&Gumby.touchEvents||!Gumby.autoInit?Gumby.touchEvents&&Gumby.touchDevice&&(Gumby.debug("Loading jQuery mobile touch events"),yepnope.errorTimeout=2e3,Modernizr.load({test:Modernizr.touch,yep:Gumby.touchEvents+"/jquery.mobile.custom.min.js",complete:function(){e.mobile||Gumby.error("Error loading jQuery mobile touch events"),Gumby.touchEventsLoaded=!0,Gumby.autoInit?window.Gumby.init():Gumby.uiModulesReady&&Gumby.helpers()}})):window.Gumby.init(),"function"==typeof define&&define.amd&&define(window.Gumby)}(jQuery),function(e){e.flexslider=function(t,i){var n=e(t);n.vars=e.extend({},e.flexslider.defaults,i);var a,s=n.vars.namespace,o=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,r=("ontouchstart"in window||o||window.DocumentTouch&&document instanceof DocumentTouch)&&n.vars.touch,l="click touchend MSPointerUp",u="",c="vertical"===n.vars.direction,d=n.vars.reverse,p=n.vars.itemWidth>0,m="fade"===n.vars.animation,h=""!==n.vars.asNavFor,v={},f=!0;e.data(t,"flexslider",n),v={init:function(){n.animating=!1,n.currentSlide=parseInt(n.vars.startAt?n.vars.startAt:0),isNaN(n.currentSlide)&&(n.currentSlide=0),n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=n.vars.selector.substr(0,n.vars.selector.search(" ")),n.slides=e(n.vars.selector,n),n.container=e(n.containerSelector,n),n.count=n.slides.length,n.syncExists=e(n.vars.sync).length>0,"slide"===n.vars.animation&&(n.vars.animation="swing"),n.prop=c?"top":"marginLeft",n.args={},n.manualPause=!1,n.stopped=!1,n.started=!1,n.startTimeout=null,n.transitions=!n.vars.video&&!m&&n.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return n.pfx=t[i].replace("Perspective","").toLowerCase(),n.prop="-"+n.pfx+"-transform",!0;return!1}(),""!==n.vars.controlsContainer&&(n.controlsContainer=e(n.vars.controlsContainer).length>0&&e(n.vars.controlsContainer)),""!==n.vars.manualControls&&(n.manualControls=e(n.vars.manualControls).length>0&&e(n.vars.manualControls)),n.vars.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),n.setup("init"),n.vars.controlNav&&v.controlNav.setup(),n.vars.directionNav&&v.directionNav.setup(),n.vars.keyboard&&(1===e(n.containerSelector).length||n.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!n.animating&&(39===t||37===t)){var i=39===t?n.getTarget("next"):37===t?n.getTarget("prev"):!1;n.flexAnimate(i,n.vars.pauseOnAction)}}),n.vars.mousewheel&&n.bind("mousewheel",function(e,t){e.preventDefault();var i=0>t?n.getTarget("next"):n.getTarget("prev");n.flexAnimate(i,n.vars.pauseOnAction)}),n.vars.pausePlay&&v.pausePlay.setup(),n.vars.slideshow&&n.vars.pauseInvisible&&v.pauseInvisible.init(),n.vars.slideshow&&(n.vars.pauseOnHover&&n.hover(function(){n.manualPlay||n.manualPause||n.pause()},function(){n.manualPause||n.manualPlay||n.stopped||n.play()}),n.vars.pauseInvisible&&v.pauseInvisible.isHidden()||(n.vars.initDelay>0?n.startTimeout=setTimeout(n.play,n.vars.initDelay):n.play())),h&&v.asNav.setup(),r&&n.vars.touch&&v.touch(),(!m||m&&n.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",v.resize),n.find("img").attr("draggable","false"),setTimeout(function(){n.vars.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(s+"active-slide").eq(n.currentItem).addClass(s+"active-slide"),o?(t._slider=n,n.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var i=e(this),a=i.index();e(n.vars.asNavFor).data("flexslider").animating||i.hasClass("active")||(n.direction=n.currentItem<a?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})})):n.slides.click(function(t){t.preventDefault();var i=e(this),a=i.index(),o=i.offset().left-e(n).scrollLeft();0>=o&&i.hasClass(s+"active-slide")?n.flexAnimate(n.getTarget("prev"),!0):e(n.vars.asNavFor).data("flexslider").animating||i.hasClass(s+"active-slide")||(n.direction=n.currentItem<a?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?v.controlNav.setupManual():v.controlNav.setupPaging()},setupPaging:function(){var t,i,a="thumbnails"===n.vars.controlNav?"control-thumbs":"control-paging",o=1;if(n.controlNavScaffold=e('<ol class="'+s+"control-nav "+s+a+'"></ol>'),n.pagingCount>1)for(var r=0;r<n.pagingCount;r++){if(i=n.slides.eq(r),t="thumbnails"===n.vars.controlNav?'<img src="'+i.attr("data-thumb")+'"/>':"<a>"+o+"</a>","thumbnails"===n.vars.controlNav&&!0===n.vars.thumbCaptions){var c=i.attr("data-thumbcaption");""!=c&&void 0!=c&&(t+='<span class="'+s+'caption">'+c+"</span>")}n.controlNavScaffold.append("<li>"+t+"</li>"),o++}n.controlsContainer?e(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),v.controlNav.set(),v.controlNav.active(),n.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===u||u===t.type){var i=e(this),a=n.controlNav.index(i);i.hasClass(s+"active")||(n.direction=a>n.currentSlide?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction))}""===u&&(u=t.type),v.setToClearWatchedEvent()})},setupManual:function(){n.controlNav=n.manualControls,v.controlNav.active(),n.controlNav.bind(l,function(t){if(t.preventDefault(),""===u||u===t.type){var i=e(this),a=n.controlNav.index(i);i.hasClass(s+"active")||(n.direction=a>n.currentSlide?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction))}""===u&&(u=t.type),v.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===n.vars.controlNav?"img":"a";n.controlNav=e("."+s+"control-nav li "+t,n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(s+"active").eq(n.animatingTo).addClass(s+"active")},update:function(t,i){n.pagingCount>1&&"add"===t?n.controlNavScaffold.append(e("<li><a>"+n.count+"</a></li>")):1===n.pagingCount?n.controlNavScaffold.find("li").remove():n.controlNav.eq(i).closest("li").remove(),v.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(i,t):v.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+s+'direction-nav"><li><a class="'+s+'prev" href="#"><i class="icon-left-open">'+n.vars.prevText+'</i></a></li><li><a class="'+s+'next" href="#"><i class="icon-right-open">'+n.vars.nextText+"</i></a></li></ul>");n.controlsContainer?(e(n.controlsContainer).append(t),n.directionNav=e("."+s+"direction-nav li a",n.controlsContainer)):(n.append(t),n.directionNav=e("."+s+"direction-nav li a",n)),v.directionNav.update(),n.directionNav.bind(l,function(t){t.preventDefault();var i;(""===u||u===t.type)&&(i=e(this).hasClass(s+"next")?n.getTarget("next"):n.getTarget("prev"),n.flexAnimate(i,n.vars.pauseOnAction)),""===u&&(u=t.type),v.setToClearWatchedEvent()})},update:function(){var e=s+"disabled";1===n.pagingCount?n.directionNav.addClass(e).attr("tabindex","-1"):n.vars.animationLoop?n.directionNav.removeClass(e).removeAttr("tabindex"):0===n.animatingTo?n.directionNav.removeClass(e).filter("."+s+"prev").addClass(e).attr("tabindex","-1"):n.animatingTo===n.last?n.directionNav.removeClass(e).filter("."+s+"next").addClass(e).attr("tabindex","-1"):n.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+s+'pauseplay"><a></a></div>');n.controlsContainer?(n.controlsContainer.append(t),n.pausePlay=e("."+s+"pauseplay a",n.controlsContainer)):(n.append(t),n.pausePlay=e("."+s+"pauseplay a",n)),v.pausePlay.update(n.vars.slideshow?s+"pause":s+"play"),n.pausePlay.bind(l,function(t){t.preventDefault(),(""===u||u===t.type)&&(e(this).hasClass(s+"pause")?(n.manualPause=!0,n.manualPlay=!1,n.pause()):(n.manualPause=!1,n.manualPlay=!0,n.play())),""===u&&(u=t.type),v.setToClearWatchedEvent()})},update:function(e){"play"===e?n.pausePlay.removeClass(s+"pause").addClass(s+"play").html(n.vars.playText):n.pausePlay.removeClass(s+"play").addClass(s+"pause").html(n.vars.pauseText)}},touch:function(){function e(e){n.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(n.pause(),f=c?n.h:n.w,b=Number(new Date),w=e.touches[0].pageX,x=e.touches[0].pageY,v=p&&d&&n.animatingTo===n.last?0:p&&d?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:p&&n.currentSlide===n.last?n.limit:p?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:d?(n.last-n.currentSlide+n.cloneOffset)*f:(n.currentSlide+n.cloneOffset)*f,u=c?x:w,h=c?w:x,t.addEventListener("touchmove",i,!1),t.addEventListener("touchend",a,!1))
}function i(e){w=e.touches[0].pageX,x=e.touches[0].pageY,g=c?u-x:u-w,y=c?Math.abs(g)<Math.abs(w-h):Math.abs(g)<Math.abs(x-h);var t=500;(!y||Number(new Date)-b>t)&&(e.preventDefault(),!m&&n.transitions&&(n.vars.animationLoop||(g/=0===n.currentSlide&&0>g||n.currentSlide===n.last&&g>0?Math.abs(g)/f+2:1),n.setProps(v+g,"setTouch")))}function a(){if(t.removeEventListener("touchmove",i,!1),n.animatingTo===n.currentSlide&&!y&&null!==g){var e=d?-g:g,s=e>0?n.getTarget("next"):n.getTarget("prev");n.canAdvance(s)&&(Number(new Date)-b<550&&Math.abs(e)>50||Math.abs(e)>f/2)?n.flexAnimate(s,n.vars.pauseOnAction):m||n.flexAnimate(n.currentSlide,n.vars.pauseOnAction,!0)}t.removeEventListener("touchend",a,!1),u=null,h=null,g=null,v=null}function s(e){e.stopPropagation(),n.animating?e.preventDefault():(n.pause(),t._gesture.addPointer(e.pointerId),S=0,f=c?n.h:n.w,b=Number(new Date),v=p&&d&&n.animatingTo===n.last?0:p&&d?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:p&&n.currentSlide===n.last?n.limit:p?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:d?(n.last-n.currentSlide+n.cloneOffset)*f:(n.currentSlide+n.cloneOffset)*f)}function r(e){e.stopPropagation();var i=e.target._slider;if(i){var n=-e.translationX,a=-e.translationY;return S+=c?a:n,g=S,y=c?Math.abs(S)<Math.abs(-n):Math.abs(S)<Math.abs(-a),e.detail===e.MSGESTURE_FLAG_INERTIA?(setImmediate(function(){t._gesture.stop()}),void 0):((!y||Number(new Date)-b>500)&&(e.preventDefault(),!m&&i.transitions&&(i.vars.animationLoop||(g=S/(0===i.currentSlide&&0>S||i.currentSlide===i.last&&S>0?Math.abs(S)/f+2:1)),i.setProps(v+g,"setTouch"))),void 0)}}function l(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!y&&null!==g){var i=d?-g:g,n=i>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(n)&&(Number(new Date)-b<550&&Math.abs(i)>50||Math.abs(i)>f/2)?t.flexAnimate(n,t.vars.pauseOnAction):m||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}u=null,h=null,g=null,v=null,S=0}}var u,h,v,f,g,b,y=!1,w=0,x=0,S=0;o?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",s,!1),t._slider=n,t.addEventListener("MSGestureChange",r,!1),t.addEventListener("MSGestureEnd",l,!1)):t.addEventListener("touchstart",e,!1)},resize:function(){!n.animating&&n.is(":visible")&&(p||n.doMath(),m?v.smoothHeight():p?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):c?(n.viewport.height(n.h),n.setProps(n.h,"setTotal")):(n.vars.smoothHeight&&v.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,"setTotal")))},smoothHeight:function(e){if(!c||m){var t=m?n:n.viewport;e?t.animate({height:n.slides.eq(n.animatingTo).height()},e):t.height(n.slides.eq(n.animatingTo).height())}},sync:function(t){var i=e(n.vars.sync).data("flexslider"),a=n.animatingTo;switch(t){case"animate":i.flexAnimate(a,n.vars.pauseOnAction,!1,!0);break;case"play":i.playing||i.asNav||i.play();break;case"pause":i.pause()}},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(v.pauseInvisible.visProp=e[t]+"Hidden");if(v.pauseInvisible.visProp){var i=v.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(i,function(){v.pauseInvisible.isHidden()?n.startTimeout?clearTimeout(n.startTimeout):n.pause():n.started?n.play():n.vars.initDelay>0?setTimeout(n.play,n.vars.initDelay):n.play()})}},isHidden:function(){return document[v.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(a),a=setTimeout(function(){u=""},3e3)}},n.flexAnimate=function(t,i,a,o,l){if(n.vars.animationLoop||t===n.currentSlide||(n.direction=t>n.currentSlide?"next":"prev"),h&&1===n.pagingCount&&(n.direction=n.currentItem<t?"next":"prev"),!n.animating&&(n.canAdvance(t,l)||a)&&n.is(":visible")){if(h&&o){var u=e(n.vars.asNavFor).data("flexslider");if(n.atEnd=0===t||t===n.count-1,u.flexAnimate(t,!0,!1,!0,l),n.direction=n.currentItem<t?"next":"prev",u.direction=n.direction,Math.ceil((t+1)/n.visible)-1===n.currentSlide||0===t)return n.currentItem=t,n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),!1;n.currentItem=t,n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),t=Math.floor(t/n.visible)}if(n.animating=!0,n.animatingTo=t,i&&n.pause(),n.vars.before(n),n.syncExists&&!l&&v.sync("animate"),n.vars.controlNav&&v.controlNav.active(),p||n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),n.atEnd=0===t||t===n.last,n.vars.directionNav&&v.directionNav.update(),t===n.last&&(n.vars.end(n),n.vars.animationLoop||n.pause()),m)r?(n.slides.eq(n.currentSlide).css({opacity:0,zIndex:1}),n.slides.eq(t).css({opacity:1,zIndex:2}),n.wrapup(y)):(n.slides.eq(n.currentSlide).css({zIndex:1}).animate({opacity:0},n.vars.animationSpeed,n.vars.easing),n.slides.eq(t).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing,n.wrapup));else{var f,g,b,y=c?n.slides.filter(":first").height():n.computedW;p?(f=n.vars.itemMargin,b=(n.itemW+f)*n.move*n.animatingTo,g=b>n.limit&&1!==n.visible?n.limit:b):g=0===n.currentSlide&&t===n.count-1&&n.vars.animationLoop&&"next"!==n.direction?d?(n.count+n.cloneOffset)*y:0:n.currentSlide===n.last&&0===t&&n.vars.animationLoop&&"prev"!==n.direction?d?0:(n.count+1)*y:d?(n.count-1-t+n.cloneOffset)*y:(t+n.cloneOffset)*y,n.setProps(g,"",n.vars.animationSpeed),n.transitions?(n.vars.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind("webkitTransitionEnd transitionend"),n.container.bind("webkitTransitionEnd transitionend",function(){n.wrapup(y)})):n.container.animate(n.args,n.vars.animationSpeed,n.vars.easing,function(){n.wrapup(y)})}n.vars.smoothHeight&&v.smoothHeight(n.vars.animationSpeed)}},n.wrapup=function(e){m||p||(0===n.currentSlide&&n.animatingTo===n.last&&n.vars.animationLoop?n.setProps(e,"jumpEnd"):n.currentSlide===n.last&&0===n.animatingTo&&n.vars.animationLoop&&n.setProps(e,"jumpStart")),n.animating=!1,n.currentSlide=n.animatingTo,n.vars.after(n)},n.animateSlides=function(){!n.animating&&f&&n.flexAnimate(n.getTarget("next"))},n.pause=function(){clearInterval(n.animatedSlides),n.animatedSlides=null,n.playing=!1,n.vars.pausePlay&&v.pausePlay.update("play"),n.syncExists&&v.sync("pause")},n.play=function(){n.playing&&clearInterval(n.animatedSlides),n.animatedSlides=n.animatedSlides||setInterval(n.animateSlides,n.vars.slideshowSpeed),n.started=n.playing=!0,n.vars.pausePlay&&v.pausePlay.update("pause"),n.syncExists&&v.sync("play")},n.stop=function(){n.pause(),n.stopped=!0},n.canAdvance=function(e,t){var i=h?n.pagingCount-1:n.last;return t?!0:h&&n.currentItem===n.count-1&&0===e&&"prev"===n.direction?!0:h&&0===n.currentItem&&e===n.pagingCount-1&&"next"!==n.direction?!1:e!==n.currentSlide||h?n.vars.animationLoop?!0:n.atEnd&&0===n.currentSlide&&e===i&&"next"!==n.direction?!1:n.atEnd&&n.currentSlide===i&&0===e&&"next"===n.direction?!1:!0:!1},n.getTarget=function(e){return n.direction=e,"next"===e?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(e,t,i){var a=function(){var i=e?e:(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo,a=function(){if(p)return"setTouch"===t?e:d&&n.animatingTo===n.last?0:d?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:i;switch(t){case"setTotal":return d?(n.count-1-n.currentSlide+n.cloneOffset)*e:(n.currentSlide+n.cloneOffset)*e;case"setTouch":return d?e:e;case"jumpEnd":return d?e:n.count*e;case"jumpStart":return d?n.count*e:e;default:return e}}();return-1*a+"px"}();n.transitions&&(a=c?"translate3d(0,"+a+",0)":"translate3d("+a+",0,0)",i=void 0!==i?i/1e3+"s":"0s",n.container.css("-"+n.pfx+"-transition-duration",i)),n.args[n.prop]=a,(n.transitions||void 0===i)&&n.container.css(n.args)},n.setup=function(t){if(m)n.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(r?n.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+n.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(n.currentSlide).css({opacity:1,zIndex:2}):n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing)),n.vars.smoothHeight&&v.smoothHeight();else{var i,a;"init"===t&&(n.viewport=e('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,d&&(a=e.makeArray(n.slides).reverse(),n.slides=e(a),n.container.empty().append(n.slides))),n.vars.animationLoop&&!p&&(n.cloneCount=2,n.cloneOffset=1,"init"!==t&&n.container.find(".clone").remove(),n.container.append(n.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(n.slides.last().clone().addClass("clone").attr("aria-hidden","true"))),n.newSlides=e(n.vars.selector,n),i=d?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,c&&!p?(n.container.height(200*(n.count+n.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){n.newSlides.css({display:"block"}),n.doMath(),n.viewport.height(n.h),n.setProps(i*n.h,"init")},"init"===t?100:0)):(n.container.width(200*(n.count+n.cloneCount)+"%"),n.setProps(i*n.computedW,"init"),setTimeout(function(){n.doMath(),n.newSlides.css({width:n.computedW,"float":"left",display:"block"}),n.vars.smoothHeight&&v.smoothHeight()},"init"===t?100:0))}p||n.slides.removeClass(s+"active-slide").eq(n.currentSlide).addClass(s+"active-slide")},n.doMath=function(){var e=n.slides.first(),t=n.vars.itemMargin,i=n.vars.minItems,a=n.vars.maxItems;n.w=void 0===n.viewport?n.width():n.viewport.width(),n.h=e.height(),n.boxPadding=e.outerWidth()-e.width(),p?(n.itemT=n.vars.itemWidth+t,n.minW=i?i*n.itemT:n.w,n.maxW=a?a*n.itemT-t:n.w,n.itemW=n.minW>n.w?(n.w-t*(i-1))/i:n.maxW<n.w?(n.w-t*(a-1))/a:n.vars.itemWidth>n.w?n.w:n.vars.itemWidth,n.visible=Math.floor(n.w/n.itemW),n.move=n.vars.move>0&&n.vars.move<n.visible?n.vars.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:n.vars.itemWidth>n.w?n.itemW*(n.count-1)+t*(n.count-1):(n.itemW+t)*n.count-n.w-t):(n.itemW=n.w,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding},n.update=function(e,t){n.doMath(),p||(e<n.currentSlide?n.currentSlide+=1:e<=n.currentSlide&&0!==e&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),n.vars.controlNav&&!n.manualControls&&("add"===t&&!p||n.pagingCount>n.controlNav.length?v.controlNav.update("add"):("remove"===t&&!p||n.pagingCount<n.controlNav.length)&&(p&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),v.controlNav.update("remove",n.last))),n.vars.directionNav&&v.directionNav.update()},n.addSlide=function(t,i){var a=e(t);n.count+=1,n.last=n.count-1,c&&d?void 0!==i?n.slides.eq(n.count-i).after(a):n.container.prepend(a):void 0!==i?n.slides.eq(i).before(a):n.container.append(a),n.update(i,"add"),n.slides=e(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.added(n)},n.removeSlide=function(t){var i=isNaN(t)?n.slides.index(e(t)):t;n.count-=1,n.last=n.count-1,isNaN(t)?e(t,n.slides).remove():c&&d?n.slides.eq(n.last).remove():n.slides.eq(t).remove(),n.doMath(),n.update(i,"remove"),n.slides=e(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.removed(n)},v.init()},e(window).blur(function(){focused=!1}).focus(function(){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"",nextText:"",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var i=e(this),n=t.selector?t.selector:".slides > li",a=i.find(n);1===a.length&&t.allowOneSlide===!0||0===a.length?(a.fadeIn(1e3),t.start&&t.start(i)):void 0===i.data("flexslider")&&new e.flexslider(this,t)});var i=e(this).data("flexslider");switch(t){case"play":i.play();break;case"pause":i.pause();break;case"stop":i.stop();break;case"next":i.flexAnimate(i.getTarget("next"),!0);break;case"prev":case"previous":i.flexAnimate(i.getTarget("prev"),!0);break;default:"number"==typeof t&&i.flexAnimate(t,!0)}}}(jQuery),function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function i(e,t){var i=n(e,t)?s:a;i(e,t)}var n,a,s;"classList"in document.documentElement?(n=function(e,t){return e.classList.contains(t)},a=function(e,t){e.classList.add(t)},s=function(e,t){e.classList.remove(t)}):(n=function(e,i){return t(i).test(e.className)},a=function(e,t){n(e,t)||(e.className=e.className+" "+t)},s=function(e,i){e.className=e.className.replace(t(i)," ")});var o={hasClass:n,addClass:a,removeClass:s,toggleClass:i,has:n,add:a,remove:s,toggle:i};"function"==typeof define&&define.amd?define(o):e.classie=o}(window),$(".contact form").validation({required:[{name:"full_name"},{name:"email",validate:function(e){return null!==e.val().match("@")}}],fail:function(){Gumby.error("Form validation failed")},submit:function(e){$.ajax({url:"do/something/with/data",data:e,success:function(){alert("Submitted")}})}}),$("h1").addClass("fittext"),Gumby.initialize("fittext"),function(e){e.flexslider=function(t,i){var n=e(t);n.vars=e.extend({},e.flexslider.defaults,i);var a,s=n.vars.namespace,o=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,r=("ontouchstart"in window||o||window.DocumentTouch&&document instanceof DocumentTouch)&&n.vars.touch,l="click touchend MSPointerUp",u="",c="vertical"===n.vars.direction,d=n.vars.reverse,p=n.vars.itemWidth>0,m="fade"===n.vars.animation,h=""!==n.vars.asNavFor,v={},f=!0;e.data(t,"flexslider",n),v={init:function(){n.animating=!1,n.currentSlide=parseInt(n.vars.startAt?n.vars.startAt:0),isNaN(n.currentSlide)&&(n.currentSlide=0),n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=n.vars.selector.substr(0,n.vars.selector.search(" ")),n.slides=e(n.vars.selector,n),n.container=e(n.containerSelector,n),n.count=n.slides.length,n.syncExists=e(n.vars.sync).length>0,"slide"===n.vars.animation&&(n.vars.animation="swing"),n.prop=c?"top":"marginLeft",n.args={},n.manualPause=!1,n.stopped=!1,n.started=!1,n.startTimeout=null,n.transitions=!n.vars.video&&!m&&n.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return n.pfx=t[i].replace("Perspective","").toLowerCase(),n.prop="-"+n.pfx+"-transform",!0;return!1}(),""!==n.vars.controlsContainer&&(n.controlsContainer=e(n.vars.controlsContainer).length>0&&e(n.vars.controlsContainer)),""!==n.vars.manualControls&&(n.manualControls=e(n.vars.manualControls).length>0&&e(n.vars.manualControls)),n.vars.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),n.setup("init"),n.vars.controlNav&&v.controlNav.setup(),n.vars.directionNav&&v.directionNav.setup(),n.vars.keyboard&&(1===e(n.containerSelector).length||n.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!n.animating&&(39===t||37===t)){var i=39===t?n.getTarget("next"):37===t?n.getTarget("prev"):!1;n.flexAnimate(i,n.vars.pauseOnAction)}}),n.vars.mousewheel&&n.bind("mousewheel",function(e,t){e.preventDefault();var i=0>t?n.getTarget("next"):n.getTarget("prev");n.flexAnimate(i,n.vars.pauseOnAction)}),n.vars.pausePlay&&v.pausePlay.setup(),n.vars.slideshow&&n.vars.pauseInvisible&&v.pauseInvisible.init(),n.vars.slideshow&&(n.vars.pauseOnHover&&n.hover(function(){n.manualPlay||n.manualPause||n.pause()},function(){n.manualPause||n.manualPlay||n.stopped||n.play()}),n.vars.pauseInvisible&&v.pauseInvisible.isHidden()||(n.vars.initDelay>0?n.startTimeout=setTimeout(n.play,n.vars.initDelay):n.play())),h&&v.asNav.setup(),r&&n.vars.touch&&v.touch(),(!m||m&&n.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",v.resize),n.find("img").attr("draggable","false"),setTimeout(function(){n.vars.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(s+"active-slide").eq(n.currentItem).addClass(s+"active-slide"),o?(t._slider=n,n.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var i=e(this),a=i.index();e(n.vars.asNavFor).data("flexslider").animating||i.hasClass("active")||(n.direction=n.currentItem<a?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})})):n.slides.click(function(t){t.preventDefault();var i=e(this),a=i.index(),o=i.offset().left-e(n).scrollLeft();0>=o&&i.hasClass(s+"active-slide")?n.flexAnimate(n.getTarget("prev"),!0):e(n.vars.asNavFor).data("flexslider").animating||i.hasClass(s+"active-slide")||(n.direction=n.currentItem<a?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?v.controlNav.setupManual():v.controlNav.setupPaging()},setupPaging:function(){var t,i,a="thumbnails"===n.vars.controlNav?"control-thumbs":"control-paging",o=1;if(n.controlNavScaffold=e('<ol class="'+s+"control-nav "+s+a+'"></ol>'),n.pagingCount>1)for(var r=0;r<n.pagingCount;r++){if(i=n.slides.eq(r),t="thumbnails"===n.vars.controlNav?'<img src="'+i.attr("data-thumb")+'"/>':"<a>"+o+"</a>","thumbnails"===n.vars.controlNav&&!0===n.vars.thumbCaptions){var c=i.attr("data-thumbcaption");""!=c&&void 0!=c&&(t+='<span class="'+s+'caption">'+c+"</span>")}n.controlNavScaffold.append("<li>"+t+"</li>"),o++}n.controlsContainer?e(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),v.controlNav.set(),v.controlNav.active(),n.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===u||u===t.type){var i=e(this),a=n.controlNav.index(i);i.hasClass(s+"active")||(n.direction=a>n.currentSlide?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction))}""===u&&(u=t.type),v.setToClearWatchedEvent()})},setupManual:function(){n.controlNav=n.manualControls,v.controlNav.active(),n.controlNav.bind(l,function(t){if(t.preventDefault(),""===u||u===t.type){var i=e(this),a=n.controlNav.index(i);i.hasClass(s+"active")||(n.direction=a>n.currentSlide?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction))}""===u&&(u=t.type),v.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===n.vars.controlNav?"img":"a";n.controlNav=e("."+s+"control-nav li "+t,n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(s+"active").eq(n.animatingTo).addClass(s+"active")},update:function(t,i){n.pagingCount>1&&"add"===t?n.controlNavScaffold.append(e("<li><a>"+n.count+"</a></li>")):1===n.pagingCount?n.controlNavScaffold.find("li").remove():n.controlNav.eq(i).closest("li").remove(),v.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(i,t):v.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+s+'direction-nav"><li><a class="'+s+'prev" href="#"><i class="icon-left-open">'+n.vars.prevText+'</i></a></li><li><a class="'+s+'next" href="#"><i class="icon-right-open">'+n.vars.nextText+"</i></a></li></ul>");n.controlsContainer?(e(n.controlsContainer).append(t),n.directionNav=e("."+s+"direction-nav li a",n.controlsContainer)):(n.append(t),n.directionNav=e("."+s+"direction-nav li a",n)),v.directionNav.update(),n.directionNav.bind(l,function(t){t.preventDefault();var i;(""===u||u===t.type)&&(i=e(this).hasClass(s+"next")?n.getTarget("next"):n.getTarget("prev"),n.flexAnimate(i,n.vars.pauseOnAction)),""===u&&(u=t.type),v.setToClearWatchedEvent()})},update:function(){var e=s+"disabled";1===n.pagingCount?n.directionNav.addClass(e).attr("tabindex","-1"):n.vars.animationLoop?n.directionNav.removeClass(e).removeAttr("tabindex"):0===n.animatingTo?n.directionNav.removeClass(e).filter("."+s+"prev").addClass(e).attr("tabindex","-1"):n.animatingTo===n.last?n.directionNav.removeClass(e).filter("."+s+"next").addClass(e).attr("tabindex","-1"):n.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+s+'pauseplay"><a></a></div>');n.controlsContainer?(n.controlsContainer.append(t),n.pausePlay=e("."+s+"pauseplay a",n.controlsContainer)):(n.append(t),n.pausePlay=e("."+s+"pauseplay a",n)),v.pausePlay.update(n.vars.slideshow?s+"pause":s+"play"),n.pausePlay.bind(l,function(t){t.preventDefault(),(""===u||u===t.type)&&(e(this).hasClass(s+"pause")?(n.manualPause=!0,n.manualPlay=!1,n.pause()):(n.manualPause=!1,n.manualPlay=!0,n.play())),""===u&&(u=t.type),v.setToClearWatchedEvent()})},update:function(e){"play"===e?n.pausePlay.removeClass(s+"pause").addClass(s+"play").html(n.vars.playText):n.pausePlay.removeClass(s+"play").addClass(s+"pause").html(n.vars.pauseText)}},touch:function(){function e(e){n.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(n.pause(),f=c?n.h:n.w,b=Number(new Date),w=e.touches[0].pageX,x=e.touches[0].pageY,v=p&&d&&n.animatingTo===n.last?0:p&&d?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:p&&n.currentSlide===n.last?n.limit:p?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:d?(n.last-n.currentSlide+n.cloneOffset)*f:(n.currentSlide+n.cloneOffset)*f,u=c?x:w,h=c?w:x,t.addEventListener("touchmove",i,!1),t.addEventListener("touchend",a,!1))}function i(e){w=e.touches[0].pageX,x=e.touches[0].pageY,g=c?u-x:u-w,y=c?Math.abs(g)<Math.abs(w-h):Math.abs(g)<Math.abs(x-h);var t=500;(!y||Number(new Date)-b>t)&&(e.preventDefault(),!m&&n.transitions&&(n.vars.animationLoop||(g/=0===n.currentSlide&&0>g||n.currentSlide===n.last&&g>0?Math.abs(g)/f+2:1),n.setProps(v+g,"setTouch")))}function a(){if(t.removeEventListener("touchmove",i,!1),n.animatingTo===n.currentSlide&&!y&&null!==g){var e=d?-g:g,s=e>0?n.getTarget("next"):n.getTarget("prev");n.canAdvance(s)&&(Number(new Date)-b<550&&Math.abs(e)>50||Math.abs(e)>f/2)?n.flexAnimate(s,n.vars.pauseOnAction):m||n.flexAnimate(n.currentSlide,n.vars.pauseOnAction,!0)}t.removeEventListener("touchend",a,!1),u=null,h=null,g=null,v=null}function s(e){e.stopPropagation(),n.animating?e.preventDefault():(n.pause(),t._gesture.addPointer(e.pointerId),S=0,f=c?n.h:n.w,b=Number(new Date),v=p&&d&&n.animatingTo===n.last?0:p&&d?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:p&&n.currentSlide===n.last?n.limit:p?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:d?(n.last-n.currentSlide+n.cloneOffset)*f:(n.currentSlide+n.cloneOffset)*f)}function r(e){e.stopPropagation();var i=e.target._slider;if(i){var n=-e.translationX,a=-e.translationY;return S+=c?a:n,g=S,y=c?Math.abs(S)<Math.abs(-n):Math.abs(S)<Math.abs(-a),e.detail===e.MSGESTURE_FLAG_INERTIA?(setImmediate(function(){t._gesture.stop()}),void 0):((!y||Number(new Date)-b>500)&&(e.preventDefault(),!m&&i.transitions&&(i.vars.animationLoop||(g=S/(0===i.currentSlide&&0>S||i.currentSlide===i.last&&S>0?Math.abs(S)/f+2:1)),i.setProps(v+g,"setTouch"))),void 0)}}function l(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!y&&null!==g){var i=d?-g:g,n=i>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(n)&&(Number(new Date)-b<550&&Math.abs(i)>50||Math.abs(i)>f/2)?t.flexAnimate(n,t.vars.pauseOnAction):m||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}u=null,h=null,g=null,v=null,S=0}}var u,h,v,f,g,b,y=!1,w=0,x=0,S=0;o?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",s,!1),t._slider=n,t.addEventListener("MSGestureChange",r,!1),t.addEventListener("MSGestureEnd",l,!1)):t.addEventListener("touchstart",e,!1)},resize:function(){!n.animating&&n.is(":visible")&&(p||n.doMath(),m?v.smoothHeight():p?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):c?(n.viewport.height(n.h),n.setProps(n.h,"setTotal")):(n.vars.smoothHeight&&v.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,"setTotal")))},smoothHeight:function(e){if(!c||m){var t=m?n:n.viewport;e?t.animate({height:n.slides.eq(n.animatingTo).height()},e):t.height(n.slides.eq(n.animatingTo).height())}},sync:function(t){var i=e(n.vars.sync).data("flexslider"),a=n.animatingTo;switch(t){case"animate":i.flexAnimate(a,n.vars.pauseOnAction,!1,!0);break;case"play":i.playing||i.asNav||i.play();break;case"pause":i.pause()}},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(v.pauseInvisible.visProp=e[t]+"Hidden");if(v.pauseInvisible.visProp){var i=v.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(i,function(){v.pauseInvisible.isHidden()?n.startTimeout?clearTimeout(n.startTimeout):n.pause():n.started?n.play():n.vars.initDelay>0?setTimeout(n.play,n.vars.initDelay):n.play()})}},isHidden:function(){return document[v.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(a),a=setTimeout(function(){u=""},3e3)}},n.flexAnimate=function(t,i,a,o,l){if(n.vars.animationLoop||t===n.currentSlide||(n.direction=t>n.currentSlide?"next":"prev"),h&&1===n.pagingCount&&(n.direction=n.currentItem<t?"next":"prev"),!n.animating&&(n.canAdvance(t,l)||a)&&n.is(":visible")){if(h&&o){var u=e(n.vars.asNavFor).data("flexslider");if(n.atEnd=0===t||t===n.count-1,u.flexAnimate(t,!0,!1,!0,l),n.direction=n.currentItem<t?"next":"prev",u.direction=n.direction,Math.ceil((t+1)/n.visible)-1===n.currentSlide||0===t)return n.currentItem=t,n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),!1;n.currentItem=t,n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),t=Math.floor(t/n.visible)}if(n.animating=!0,n.animatingTo=t,i&&n.pause(),n.vars.before(n),n.syncExists&&!l&&v.sync("animate"),n.vars.controlNav&&v.controlNav.active(),p||n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),n.atEnd=0===t||t===n.last,n.vars.directionNav&&v.directionNav.update(),t===n.last&&(n.vars.end(n),n.vars.animationLoop||n.pause()),m)r?(n.slides.eq(n.currentSlide).css({opacity:0,zIndex:1}),n.slides.eq(t).css({opacity:1,zIndex:2}),n.wrapup(y)):(n.slides.eq(n.currentSlide).css({zIndex:1}).animate({opacity:0},n.vars.animationSpeed,n.vars.easing),n.slides.eq(t).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing,n.wrapup));else{var f,g,b,y=c?n.slides.filter(":first").height():n.computedW;p?(f=n.vars.itemMargin,b=(n.itemW+f)*n.move*n.animatingTo,g=b>n.limit&&1!==n.visible?n.limit:b):g=0===n.currentSlide&&t===n.count-1&&n.vars.animationLoop&&"next"!==n.direction?d?(n.count+n.cloneOffset)*y:0:n.currentSlide===n.last&&0===t&&n.vars.animationLoop&&"prev"!==n.direction?d?0:(n.count+1)*y:d?(n.count-1-t+n.cloneOffset)*y:(t+n.cloneOffset)*y,n.setProps(g,"",n.vars.animationSpeed),n.transitions?(n.vars.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind("webkitTransitionEnd transitionend"),n.container.bind("webkitTransitionEnd transitionend",function(){n.wrapup(y)})):n.container.animate(n.args,n.vars.animationSpeed,n.vars.easing,function(){n.wrapup(y)})}n.vars.smoothHeight&&v.smoothHeight(n.vars.animationSpeed)}},n.wrapup=function(e){m||p||(0===n.currentSlide&&n.animatingTo===n.last&&n.vars.animationLoop?n.setProps(e,"jumpEnd"):n.currentSlide===n.last&&0===n.animatingTo&&n.vars.animationLoop&&n.setProps(e,"jumpStart")),n.animating=!1,n.currentSlide=n.animatingTo,n.vars.after(n)},n.animateSlides=function(){!n.animating&&f&&n.flexAnimate(n.getTarget("next"))},n.pause=function(){clearInterval(n.animatedSlides),n.animatedSlides=null,n.playing=!1,n.vars.pausePlay&&v.pausePlay.update("play"),n.syncExists&&v.sync("pause")},n.play=function(){n.playing&&clearInterval(n.animatedSlides),n.animatedSlides=n.animatedSlides||setInterval(n.animateSlides,n.vars.slideshowSpeed),n.started=n.playing=!0,n.vars.pausePlay&&v.pausePlay.update("pause"),n.syncExists&&v.sync("play")},n.stop=function(){n.pause(),n.stopped=!0},n.canAdvance=function(e,t){var i=h?n.pagingCount-1:n.last;return t?!0:h&&n.currentItem===n.count-1&&0===e&&"prev"===n.direction?!0:h&&0===n.currentItem&&e===n.pagingCount-1&&"next"!==n.direction?!1:e!==n.currentSlide||h?n.vars.animationLoop?!0:n.atEnd&&0===n.currentSlide&&e===i&&"next"!==n.direction?!1:n.atEnd&&n.currentSlide===i&&0===e&&"next"===n.direction?!1:!0:!1},n.getTarget=function(e){return n.direction=e,"next"===e?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(e,t,i){var a=function(){var i=e?e:(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo,a=function(){if(p)return"setTouch"===t?e:d&&n.animatingTo===n.last?0:d?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:i;switch(t){case"setTotal":return d?(n.count-1-n.currentSlide+n.cloneOffset)*e:(n.currentSlide+n.cloneOffset)*e;case"setTouch":return d?e:e;case"jumpEnd":return d?e:n.count*e;case"jumpStart":return d?n.count*e:e;default:return e}}();return-1*a+"px"}();n.transitions&&(a=c?"translate3d(0,"+a+",0)":"translate3d("+a+",0,0)",i=void 0!==i?i/1e3+"s":"0s",n.container.css("-"+n.pfx+"-transition-duration",i)),n.args[n.prop]=a,(n.transitions||void 0===i)&&n.container.css(n.args)},n.setup=function(t){if(m)n.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(r?n.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+n.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(n.currentSlide).css({opacity:1,zIndex:2}):n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing)),n.vars.smoothHeight&&v.smoothHeight();else{var i,a;"init"===t&&(n.viewport=e('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,d&&(a=e.makeArray(n.slides).reverse(),n.slides=e(a),n.container.empty().append(n.slides))),n.vars.animationLoop&&!p&&(n.cloneCount=2,n.cloneOffset=1,"init"!==t&&n.container.find(".clone").remove(),n.container.append(n.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(n.slides.last().clone().addClass("clone").attr("aria-hidden","true"))),n.newSlides=e(n.vars.selector,n),i=d?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,c&&!p?(n.container.height(200*(n.count+n.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){n.newSlides.css({display:"block"}),n.doMath(),n.viewport.height(n.h),n.setProps(i*n.h,"init")},"init"===t?100:0)):(n.container.width(200*(n.count+n.cloneCount)+"%"),n.setProps(i*n.computedW,"init"),setTimeout(function(){n.doMath(),n.newSlides.css({width:n.computedW,"float":"left",display:"block"}),n.vars.smoothHeight&&v.smoothHeight()},"init"===t?100:0))}p||n.slides.removeClass(s+"active-slide").eq(n.currentSlide).addClass(s+"active-slide")},n.doMath=function(){var e=n.slides.first(),t=n.vars.itemMargin,i=n.vars.minItems,a=n.vars.maxItems;n.w=void 0===n.viewport?n.width():n.viewport.width(),n.h=e.height(),n.boxPadding=e.outerWidth()-e.width(),p?(n.itemT=n.vars.itemWidth+t,n.minW=i?i*n.itemT:n.w,n.maxW=a?a*n.itemT-t:n.w,n.itemW=n.minW>n.w?(n.w-t*(i-1))/i:n.maxW<n.w?(n.w-t*(a-1))/a:n.vars.itemWidth>n.w?n.w:n.vars.itemWidth,n.visible=Math.floor(n.w/n.itemW),n.move=n.vars.move>0&&n.vars.move<n.visible?n.vars.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:n.vars.itemWidth>n.w?n.itemW*(n.count-1)+t*(n.count-1):(n.itemW+t)*n.count-n.w-t):(n.itemW=n.w,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding
},n.update=function(e,t){n.doMath(),p||(e<n.currentSlide?n.currentSlide+=1:e<=n.currentSlide&&0!==e&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),n.vars.controlNav&&!n.manualControls&&("add"===t&&!p||n.pagingCount>n.controlNav.length?v.controlNav.update("add"):("remove"===t&&!p||n.pagingCount<n.controlNav.length)&&(p&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),v.controlNav.update("remove",n.last))),n.vars.directionNav&&v.directionNav.update()},n.addSlide=function(t,i){var a=e(t);n.count+=1,n.last=n.count-1,c&&d?void 0!==i?n.slides.eq(n.count-i).after(a):n.container.prepend(a):void 0!==i?n.slides.eq(i).before(a):n.container.append(a),n.update(i,"add"),n.slides=e(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.added(n)},n.removeSlide=function(t){var i=isNaN(t)?n.slides.index(e(t)):t;n.count-=1,n.last=n.count-1,isNaN(t)?e(t,n.slides).remove():c&&d?n.slides.eq(n.last).remove():n.slides.eq(t).remove(),n.doMath(),n.update(i,"remove"),n.slides=e(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.removed(n)},v.init()},e(window).blur(function(){focused=!1}).focus(function(){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"",nextText:"",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var i=e(this),n=t.selector?t.selector:".slides > li",a=i.find(n);1===a.length&&t.allowOneSlide===!0||0===a.length?(a.fadeIn(1e3),t.start&&t.start(i)):void 0===i.data("flexslider")&&new e.flexslider(this,t)});var i=e(this).data("flexslider");switch(t){case"play":i.play();break;case"pause":i.pause();break;case"stop":i.stop();break;case"next":i.flexAnimate(i.getTarget("next"),!0);break;case"prev":case"previous":i.flexAnimate(i.getTarget("prev"),!0);break;default:"number"==typeof t&&i.flexAnimate(t,!0)}}}(jQuery),function(e){e.fn.jflickrfeed=function(t,i){t=e.extend(!0,{flickrbase:"http://api.flickr.com/services/feeds/",feedapi:"photos_public.gne",limit:20,qstrings:{lang:"en-us",format:"json",jsoncallback:"?"},cleanDescription:!0,useTemplate:!0,itemTemplate:"",itemCallback:function(){}},t);var n=t.flickrbase+t.feedapi+"?",a=!0;for(var s in t.qstrings)a||(n+="&"),n+=s+"="+t.qstrings[s],a=!1;return e(this).each(function(){var a=e(this),s=this;e.getJSON(n,function(n){e.each(n.items,function(e,i){if(e<t.limit){if(t.cleanDescription){var n=/<p>(.*?)<\/p>/g,o=i.description;n.test(o)&&(i.description=o.match(n)[2],void 0!=i.description&&(i.description=i.description.replace("<p>","").replace("</p>","")))}if(i.image_s=i.media.m.replace("_m","_s"),i.image_t=i.media.m.replace("_m","_t"),i.image_m=i.media.m.replace("_m","_m"),i.image=i.media.m.replace("_m",""),i.image_b=i.media.m.replace("_m","_b"),delete i.media,t.useTemplate){var r=t.itemTemplate;for(var l in i){var u=new RegExp("{{"+l+"}}","g");r=r.replace(u,i[l])}a.append(r)}t.itemCallback.call(s,i)}}),e.isFunction(i)&&i.call(s,n)})})}}(jQuery);var SidebarMenuEffects=function(){function e(t,i){return t===document?!1:classie.has(t,i)?!0:t.parentNode&&e(t.parentNode,i)}function t(){var e=!1;return function(t){(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}function i(){var i=document.getElementById("maar-container"),n=Array.prototype.slice.call(document.querySelectorAll("#side-trigger-effects > div.open-panel")),a=t()?"touchstart":"click",s=function(){classie.remove(i,"side-menu-open")},o=function(t){e(t.target,"side-menu")||(s(),document.removeEventListener(a,o))};n.forEach(function(e){var t=e.getAttribute("data-effect");e.addEventListener(a,function(e){e.stopPropagation(),e.preventDefault(),i.className="maar-container",classie.add(i,t),setTimeout(function(){classie.add(i,"side-menu-open")},25),document.addEventListener(a,o)})})}i()}();$(".open-panel").click(function(){$("html").addClass("openNav")}),$(".content").click(function(){$("html").removeClass("openNav")});var newsroomURL="http://gdata.youtube.com/feeds/api/users/MinneapolisREALTORS/uploads?alt=json&max-results=1",videoURL="http://www.youtube.com/watch?v=";$.getJSON(newsroomURL,function(e){var t="";$.each(e.feed.entry,function(e,i){i.title.$t;var n=i.link[1].href,a=n.split("/"),s=a[a.length-2],o=videoURL+s,r="http://www.youtube.com/embed/"+s;t+='<a href="'+o+'" target="_blank"><article class="youtube video"><iframe width="560" height="315" src="'+r+'"></iframe ></article></a>'}),$(t).appendTo(".video-home")});var newsroomURL="http://gdata.youtube.com/feeds/api/users/MinneapolisREALTORS/uploads?alt=json&max-results=2",videoURL="http://www.youtube.com/watch?v=";$.getJSON(newsroomURL,function(e){var t="";$.each(e.feed.entry,function(e,i){i.title.$t;var n=i.link[1].href,a=n.split("/"),s=a[a.length-2],o="http://www.youtube.com/embed/"+s;t+='<div class="row main-body"><article class="youtube video"><iframe width="560" height="315" src="'+o+'"></iframe></article></div>'}),$(t).appendTo(".video-newsroom")}),$(document).ready(function(){$("#flickr_gallery").jflickrfeed({limit:20,qstrings:{id:"27833342@N03"},itemTemplate:'<li><img src="{{image_m}}" alt="{{title}}" /></li>'})});var newsroomURL="http://gdata.youtube.com/feeds/api/users/MinneapolisREALTORS/uploads?alt=json&max-results=2",videoURL="http://www.youtube.com/watch?v=";$.getJSON(newsroomURL,function(e){var t="";$.each(e.feed.entry,function(e,i){var n=i.title.$t,a=i.link[1].href,s=a.split("/"),o=s[s.length-2],r=videoURL+o,l="http://www.youtube.com/embed/"+o;t+='<section class="six columns gen-div"><a href="'+r+'" target="_blank"><article class="video-overlay"><h2>'+n+'</h2><i class="icon-video"></i></article><article class="youtube video"><iframe width="560" height="315" src="'+l+'"></iframe ></article></a></section>'}),$(t).appendTo(".video-videopage")});var newsroomURL="http://gdata.youtube.com/feeds/api/users/MinneapolisREALTORS/uploads?alt=json&max-results=2&start-index=3",videoURL="http://www.youtube.com/watch?v=";$.getJSON(newsroomURL,function(e){var t="";$.each(e.feed.entry,function(e,i){var n=i.title.$t,a=i.link[1].href,s=a.split("/"),o=s[s.length-2],r=videoURL+o,l="http://www.youtube.com/embed/"+o;t+='<section class="six columns gen-div"><a href="'+r+'" target="_blank"><article class="video-overlay"><h2>'+n+'</h2><i class="icon-video"></i></article><article class="youtube video"><iframe width="560" height="315" src="'+l+'"></iframe ></article></a></section>'}),$(t).appendTo(".video-videopage-2")});var newsroomURL="http://gdata.youtube.com/feeds/api/users/MinneapolisREALTORS/uploads?alt=json&max-results=7&start-index=5",videoURL="http://www.youtube.com/watch?v=";$.getJSON(newsroomURL,function(e){var t="";$.each(e.feed.entry,function(e,i){var n=i.title.$t,a=i.link[1].href,s=a.split("/"),o=s[s.length-2],r=videoURL+o;t+='<li><a href="'+r+'" target="_blank">'+n+"</a></li>"}),$(t).appendTo(".video-videopage-archive")});